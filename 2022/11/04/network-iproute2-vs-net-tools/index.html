<!DOCTYPE html>
<html lang=en>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="renderer" content="webkit">
  <meta http-equiv="Cache-Control" content="no-transform" />
  <meta http-equiv="Cache-Control" content="no-siteapp" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="format-detection" content="telephone=no,email=no,adress=no">
  <!-- Color theme for statusbar -->
  <meta name="theme-color" content="#000000" />
  <!-- 强制页面在当前窗口以独立页面显示,防止别人在框架里调用页面 -->
  <meta http-equiv="window-target" content="_top" />
  
  
  <title>iproute2 vs net-tools | Ball Virtual&#39; Blog</title>
  <meta name="description" content="背景介绍iproute2是linux下管理控制TCP&#x2F;IP网络和流量控制的新一代工具包，旨在替代老派的工具链net-tools，即大家比较熟悉的ifconfig，arp，route，netstat等命令。 两套工具本质的区别是:net-tools是通过procfs(&#x2F;proc)和ioctl系统调用去访问和改变内核网络配置，而iproute2则通过netlink套接字接口与内核通">
<meta property="og:type" content="article">
<meta property="og:title" content="iproute2 vs net-tools">
<meta property="og:url" content="http://vball.fun/2022/11/04/network-iproute2-vs-net-tools/index.html">
<meta property="og:site_name" content="Godvmxi Blog">
<meta property="og:description" content="背景介绍iproute2是linux下管理控制TCP&#x2F;IP网络和流量控制的新一代工具包，旨在替代老派的工具链net-tools，即大家比较熟悉的ifconfig，arp，route，netstat等命令。 两套工具本质的区别是:net-tools是通过procfs(&#x2F;proc)和ioctl系统调用去访问和改变内核网络配置，而iproute2则通过netlink套接字接口与内核通">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://vball.fun/2022/11/04/network-iproute2-vs-net-tools/net-tools-iproute2.png">
<meta property="og:image" content="http://vball.fun/2022/11/04/network-iproute2-vs-net-tools/iproute2.png">
<meta property="article:published_time" content="2022-11-04T10:16:13.000Z">
<meta property="article:modified_time" content="2023-05-26T04:07:34.846Z">
<meta property="article:author" content="Bright Jiang">
<meta property="article:tag" content="network">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://vball.fun/2022/11/04/network-iproute2-vs-net-tools/net-tools-iproute2.png">
  <!-- Canonical links -->
  <link rel="canonical" href="http://vball.fun/2022/11/04/network-iproute2-vs-net-tools/index.html">
  
    <link rel="alternate" href="/atom.xml" title="Godvmxi Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png" type="image/x-icon">
  
  
<link rel="stylesheet" href="/css/style.css">

  
  
  
  
  
    <script src='https://unpkg.com/mermaid@9.4.0/dist/mermaid.min.js'></script>
    <script>
      if (window.mermaid) {
        mermaid.initialize({theme: 'forest'});
      }
    </script>
  
<meta name="generator" content="Hexo 6.3.0"></head>


<body class="main-center theme-blue# 主题颜色 theme-black theme-blue theme-green theme-purple" itemscope itemtype="http://schema.org/WebPage">
  <header class="header" itemscope itemtype="http://schema.org/WPHeader">
  <div class="slimContent">
    <div class="navbar-header">
      
      
      <div class="profile-block text-center">
        <a id="avatar" href="https://github.com/godvmxi" target="_blank">
          <img class="img-circle img-rotate" src="/images/avatar2.jpeg" width="200" height="200">
        </a>
        <h2 id="name" class="hidden-xs hidden-sm">Ball Virtual</h2>
        <h3 id="title" class="hidden-xs hidden-sm hidden-md">kernel &amp; ASIC &amp; Software Engineer</h3>
        <small id="location" class="text-muted hidden-xs hidden-sm"><i class="icon icon-map-marker"></i> Shanghai, China</small>
      </div>
      
      <div class="search" id="search-form-wrap">

    <form class="search-form sidebar-form">
        <div class="input-group">
            <input type="text" class="search-form-input form-control" placeholder="Search" />
            <span class="input-group-btn">
                <button type="submit" class="search-form-submit btn btn-flat" onclick="return false;"><i class="icon icon-search"></i></button>
            </span>
        </div>
    </form>
    <div class="ins-search">
  <div class="ins-search-mask"></div>
  <div class="ins-search-container">
    <div class="ins-input-wrapper">
      <input type="text" class="ins-search-input" placeholder="Type something..." x-webkit-speech />
      <button type="button" class="close ins-close ins-selectable" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
    </div>
    <div class="ins-section-wrapper">
      <div class="ins-section-container"></div>
    </div>
  </div>
</div>


</div>
      <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
    </div>
    <nav id="main-navbar" class="collapse navbar-collapse" itemscope itemtype="http://schema.org/SiteNavigationElement" role="navigation">
      <ul class="nav navbar-nav main-nav ">
        
        
        <li class="menu-item menu-item-home">
          <a href="/.">
            
            <i class="icon icon-home-fill"></i>
            
            <span class="menu-title">Home</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-archives">
          <a href="/archives">
            
            <i class="icon icon-archives-fill"></i>
            
            <span class="menu-title">Archives</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-categories">
          <a href="/categories">
            
            <i class="icon icon-folder"></i>
            
            <span class="menu-title">Categories</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-tags">
          <a href="/tags">
            
            <i class="icon icon-tags"></i>
            
            <span class="menu-title">Tags</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-repository">
          <a href="/repository">
            
            <i class="icon icon-project"></i>
            
            <span class="menu-title">Repository</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-links">
          <a href="/links">
            
            <i class="icon icon-friendship"></i>
            
            <span class="menu-title">Links</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-about">
          <a href="/about">
            
            <i class="icon icon-cup-fill"></i>
            
            <span class="menu-title">About</span>
          </a>
        </li>
        
      </ul>
      
	
    <ul class="social-links">
    	
        <li><a href="https://github.com/godvmxi" target="_blank" title="Github" data-toggle=tooltip data-placement=top><i class="icon icon-github"></i></a></li>
        
        <li><a href="https://twitter.com/mygoddan" target="_blank" title="Twitter" data-toggle=tooltip data-placement=top><i class="icon icon-twitter"></i></a></li>
        
        <li><a href="https://www.linkedin.com/in/godvmxi/" target="_blank" title="Linkedin" data-toggle=tooltip data-placement=top><i class="icon icon-linkedin"></i></a></li>
        
        <li><a href="/atom.xml" target="_blank" title="Rss" data-toggle=tooltip data-placement=top><i class="icon icon-rss"></i></a></li>
        
    </ul>

    </nav>
  </div>
</header>

  
    <aside class="sidebar" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    
      <div class="widget">
    <h3 class="widget-title">Board</h3>
    <div class="widget-body">
        <div id="board">
            <div class="content">
                <p>欢迎交流与分享经验!</p>
            </div>
        </div>
    </div>
</div>

    
      
  <div class="widget">
    <h3 class="widget-title">Categories</h3>
    <div class="widget-body">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/game/">game</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/gnu/">gnu</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/tools/">tools</a><span class="category-list-count">2</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/tools/hexo/">hexo</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%A7%BB%E6%B0%91/">移民</a><span class="category-list-count">15</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">Tags</h3>
    <div class="widget-body">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/1984/" rel="tag">1984</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/7yuv/" rel="tag">7yuv</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/AVC/" rel="tag">AVC</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Actions/" rel="tag">Actions</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Automatic/" rel="tag">Automatic</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Bash/" rel="tag">Bash</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Bit-Endian/" rel="tag">Bit Endian</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/C/" rel="tag">C</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CA/" rel="tag">CA</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSDN/" rel="tag">CSDN</a><span class="tag-list-count">75</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/FFMPEG/" rel="tag">FFMPEG</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Ffmpeg/" rel="tag">Ffmpeg</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Font/" rel="tag">Font</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Freetype/" rel="tag">Freetype</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GFW/" rel="tag">GFW</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Gecko/" rel="tag">Gecko</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Git/" rel="tag">Git</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Github/" rel="tag">Github</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Github-actions/" rel="tag">Github actions</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Grammar/" rel="tag">Grammar</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/H264/" rel="tag">H264</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HEVC/" rel="tag">HEVC</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Interview/" rel="tag">Interview</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/K40s/" rel="tag">K40s</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/KVM/" rel="tag">KVM</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux/" rel="tag">Linux</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Little-Endian/" rel="tag">Little Endian</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Microsoft/" rel="tag">Microsoft</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mono/" rel="tag">Mono</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NAS/" rel="tag">NAS</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Nas/" rel="tag">Nas</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Note/" rel="tag">Note</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Opencv/" rel="tag">Opencv</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PR/" rel="tag">PR</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PVE/" rel="tag">PVE</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Plugin/" rel="tag">Plugin</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Poco-F4/" rel="tag">Poco F4</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/" rel="tag">Python</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Qt4/" rel="tag">Qt4</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Redmi/" rel="tag">Redmi</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SVC/" rel="tag">SVC</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Samba/" rel="tag">Samba</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Sharepoint/" rel="tag">Sharepoint</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Shit/" rel="tag">Shit</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Snap/" rel="tag">Snap</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Sysadmin/" rel="tag">Sysadmin</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/UNRAID/" rel="tag">UNRAID</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Ubuntu/" rel="tag">Ubuntu</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/VNC/" rel="tag">VNC</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Vscode/" rel="tag">Vscode</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Wine/" rel="tag">Wine</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/YUV/" rel="tag">YUV</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Yaml/" rel="tag">Yaml</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/conan/" rel="tag">conan</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cxx/" rel="tag">cxx</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/daily/" rel="tag">daily</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/error/" rel="tag">error</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/game/" rel="tag">game</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/gdb/" rel="tag">gdb</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/" rel="tag">git</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/github/" rel="tag">github</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/gmock/" rel="tag">gmock</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/gnu/" rel="tag">gnu</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/gtest/" rel="tag">gtest</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/" rel="tag">hexo</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/" rel="tag">linux</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mermaid/" rel="tag">mermaid</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/network/" rel="tag">network</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/openssl/" rel="tag">openssl</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/pcap/" rel="tag">pcap</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/pinyin/" rel="tag">pinyin</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/pynput/" rel="tag">pynput</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/" rel="tag">python</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ssh/" rel="tag">ssh</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/stl/" rel="tag">stl</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tampermonkey/" rel="tag">tampermonkey</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/telegram/" rel="tag">telegram</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/toneoz/" rel="tag">toneoz</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tools/" rel="tag">tools</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BD%8E%E9%BE%84%E7%95%99%E5%AD%A6/" rel="tag">低龄留学</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8A%A0%E6%8B%BF%E5%A4%A7/" rel="tag">加拿大</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%96%B0%E5%8A%A0%E5%9D%A1/" rel="tag">新加坡</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%A7%BB%E6%B0%91/" rel="tag">移民</a><span class="tag-list-count">15</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%AD%BE%E8%AF%81/" rel="tag">签证</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BE%8E%E5%9B%BD/" rel="tag">美国</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%8B%B1%E8%81%94%E9%82%A6/" rel="tag">英联邦</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget-body tagcloud">
      <a href="/tags/1984/" style="font-size: 13px;">1984</a> <a href="/tags/7yuv/" style="font-size: 13px;">7yuv</a> <a href="/tags/AVC/" style="font-size: 13.4px;">AVC</a> <a href="/tags/Actions/" style="font-size: 13px;">Actions</a> <a href="/tags/Automatic/" style="font-size: 13px;">Automatic</a> <a href="/tags/Bash/" style="font-size: 13px;">Bash</a> <a href="/tags/Bit-Endian/" style="font-size: 13px;">Bit Endian</a> <a href="/tags/C/" style="font-size: 13px;">C</a> <a href="/tags/CA/" style="font-size: 13px;">CA</a> <a href="/tags/CSDN/" style="font-size: 14px;">CSDN</a> <a href="/tags/FFMPEG/" style="font-size: 13px;">FFMPEG</a> <a href="/tags/Ffmpeg/" style="font-size: 13px;">Ffmpeg</a> <a href="/tags/Font/" style="font-size: 13px;">Font</a> <a href="/tags/Freetype/" style="font-size: 13px;">Freetype</a> <a href="/tags/GFW/" style="font-size: 13px;">GFW</a> <a href="/tags/Gecko/" style="font-size: 13px;">Gecko</a> <a href="/tags/Git/" style="font-size: 13px;">Git</a> <a href="/tags/Github/" style="font-size: 13px;">Github</a> <a href="/tags/Github-actions/" style="font-size: 13px;">Github actions</a> <a href="/tags/Grammar/" style="font-size: 13px;">Grammar</a> <a href="/tags/H264/" style="font-size: 13.6px;">H264</a> <a href="/tags/HEVC/" style="font-size: 13px;">HEVC</a> <a href="/tags/Interview/" style="font-size: 13px;">Interview</a> <a href="/tags/K40s/" style="font-size: 13px;">K40s</a> <a href="/tags/KVM/" style="font-size: 13px;">KVM</a> <a href="/tags/Linux/" style="font-size: 13.2px;">Linux</a> <a href="/tags/Little-Endian/" style="font-size: 13px;">Little Endian</a> <a href="/tags/Microsoft/" style="font-size: 13px;">Microsoft</a> <a href="/tags/Mono/" style="font-size: 13px;">Mono</a> <a href="/tags/NAS/" style="font-size: 13px;">NAS</a> <a href="/tags/Nas/" style="font-size: 13px;">Nas</a> <a href="/tags/Note/" style="font-size: 13px;">Note</a> <a href="/tags/Opencv/" style="font-size: 13px;">Opencv</a> <a href="/tags/PR/" style="font-size: 13px;">PR</a> <a href="/tags/PVE/" style="font-size: 13.2px;">PVE</a> <a href="/tags/Plugin/" style="font-size: 13px;">Plugin</a> <a href="/tags/Poco-F4/" style="font-size: 13px;">Poco F4</a> <a href="/tags/Python/" style="font-size: 13.4px;">Python</a> <a href="/tags/Qt4/" style="font-size: 13px;">Qt4</a> <a href="/tags/Redmi/" style="font-size: 13px;">Redmi</a> <a href="/tags/SVC/" style="font-size: 13px;">SVC</a> <a href="/tags/Samba/" style="font-size: 13px;">Samba</a> <a href="/tags/Sharepoint/" style="font-size: 13px;">Sharepoint</a> <a href="/tags/Shit/" style="font-size: 13px;">Shit</a> <a href="/tags/Snap/" style="font-size: 13px;">Snap</a> <a href="/tags/Sysadmin/" style="font-size: 13px;">Sysadmin</a> <a href="/tags/UNRAID/" style="font-size: 13px;">UNRAID</a> <a href="/tags/Ubuntu/" style="font-size: 13.4px;">Ubuntu</a> <a href="/tags/VNC/" style="font-size: 13px;">VNC</a> <a href="/tags/Vscode/" style="font-size: 13px;">Vscode</a> <a href="/tags/Wine/" style="font-size: 13px;">Wine</a> <a href="/tags/YUV/" style="font-size: 13px;">YUV</a> <a href="/tags/Yaml/" style="font-size: 13px;">Yaml</a> <a href="/tags/conan/" style="font-size: 13px;">conan</a> <a href="/tags/cxx/" style="font-size: 13px;">cxx</a> <a href="/tags/daily/" style="font-size: 13px;">daily</a> <a href="/tags/error/" style="font-size: 13px;">error</a> <a href="/tags/game/" style="font-size: 13px;">game</a> <a href="/tags/gdb/" style="font-size: 13px;">gdb</a> <a href="/tags/git/" style="font-size: 13px;">git</a> <a href="/tags/github/" style="font-size: 13px;">github</a> <a href="/tags/gmock/" style="font-size: 13px;">gmock</a> <a href="/tags/gnu/" style="font-size: 13px;">gnu</a> <a href="/tags/gtest/" style="font-size: 13.2px;">gtest</a> <a href="/tags/hexo/" style="font-size: 13.2px;">hexo</a> <a href="/tags/linux/" style="font-size: 13px;">linux</a> <a href="/tags/mermaid/" style="font-size: 13px;">mermaid</a> <a href="/tags/network/" style="font-size: 13.2px;">network</a> <a href="/tags/openssl/" style="font-size: 13.2px;">openssl</a> <a href="/tags/pcap/" style="font-size: 13px;">pcap</a> <a href="/tags/pinyin/" style="font-size: 13px;">pinyin</a> <a href="/tags/pynput/" style="font-size: 13px;">pynput</a> <a href="/tags/python/" style="font-size: 13px;">python</a> <a href="/tags/ssh/" style="font-size: 13px;">ssh</a> <a href="/tags/stl/" style="font-size: 13px;">stl</a> <a href="/tags/tampermonkey/" style="font-size: 13px;">tampermonkey</a> <a href="/tags/telegram/" style="font-size: 13px;">telegram</a> <a href="/tags/toneoz/" style="font-size: 13px;">toneoz</a> <a href="/tags/tools/" style="font-size: 13px;">tools</a> <a href="/tags/%E4%BD%8E%E9%BE%84%E7%95%99%E5%AD%A6/" style="font-size: 13.2px;">低龄留学</a> <a href="/tags/%E5%8A%A0%E6%8B%BF%E5%A4%A7/" style="font-size: 13.6px;">加拿大</a> <a href="/tags/%E6%96%B0%E5%8A%A0%E5%9D%A1/" style="font-size: 13.4px;">新加坡</a> <a href="/tags/%E7%A7%BB%E6%B0%91/" style="font-size: 13.8px;">移民</a> <a href="/tags/%E7%AD%BE%E8%AF%81/" style="font-size: 13.2px;">签证</a> <a href="/tags/%E7%BE%8E%E5%9B%BD/" style="font-size: 13px;">美国</a> <a href="/tags/%E8%8B%B1%E8%81%94%E9%82%A6/" style="font-size: 13px;">英联邦</a>
    </div>
  </div>

    
      
  <div class="widget">
    <h3 class="widget-title">Archive</h3>
    <div class="widget-body">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/05/">May 2023</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/02/">February 2023</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/01/">January 2023</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/12/">December 2022</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/11/">November 2022</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/10/">October 2022</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/09/">September 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/05/">May 2022</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">January 2022</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">December 2021</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/11/">November 2021</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/10/">October 2021</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">June 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">November 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">October 2016</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">September 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/09/">September 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/08/">August 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/12/">December 2014</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/09/">September 2013</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/08/">August 2013</a><span class="archive-list-count">19</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/06/">June 2012</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/04/">April 2012</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/02/">February 2012</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/01/">January 2012</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/11/">November 2011</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/10/">October 2011</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/09/">September 2011</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/08/">August 2011</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/06/">June 2011</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/04/">April 2011</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/01/">January 2011</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/12/">December 2010</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/08/">August 2010</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2009/06/">June 2009</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2009/05/">May 2009</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2008/04/">April 2008</a><span class="archive-list-count">1</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget-body">
      <ul class="recent-post-list list-unstyled no-thumbnail">
        
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                
              </p>
              <p class="item-title">
                <a href="/2023/05/26/program-debug-python-in-vscode/" class="title">Debug Python With Vscode</a>
              </p>
              <p class="item-date">
                <time datetime="2023-05-26T03:39:49.000Z" itemprop="datePublished">2023-05-26</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                
              </p>
              <p class="item-title">
                <a href="/2023/05/18/program-openssl-encrypt-file/" class="title">心跳检测遗书的思路</a>
              </p>
              <p class="item-date">
                <time datetime="2023-05-18T03:43:56.000Z" itemprop="datePublished">2023-05-18</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                
              </p>
              <p class="item-title">
                <a href="/2023/05/03/android-redmi-k40s-flash-global-rom-cn/" class="title">红米K40s刷国际版记录，过play，gpay，网银认证</a>
              </p>
              <p class="item-date">
                <time datetime="2023-05-03T08:19:18.000Z" itemprop="datePublished">2023-05-03</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                
              </p>
              <p class="item-title">
                <a href="/2023/02/24/program-cmake-tips/" class="title">cmake tips</a>
              </p>
              <p class="item-date">
                <time datetime="2023-02-24T11:36:23.000Z" itemprop="datePublished">2023-02-24</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                
              </p>
              <p class="item-title">
                <a href="/2023/02/24/linux-bash-special/" class="title">bash tool advanced usage</a>
              </p>
              <p class="item-date">
                <time datetime="2023-02-24T11:33:12.000Z" itemprop="datePublished">2023-02-24</time>
              </p>
            </div>
          </li>
          
      </ul>
    </div>
  </div>
  

    
  </div>
</aside>

  
  
<main class="main" role="main">
  <div class="content">
  <article id="post-network-iproute2-vs-net-tools" class="article article-type-post" itemscope itemtype="http://schema.org/BlogPosting">
    
    <div class="article-header">
      
        
  
    <h1 class="article-title" itemprop="name">
      iproute2 vs net-tools
    </h1>
  

      
      <div class="article-meta">
        <span class="article-date">
    <i class="icon icon-calendar-check"></i>
	<a href="/2022/11/04/network-iproute2-vs-net-tools/" class="article-date">
	  <time datetime="2022-11-04T10:16:13.000Z" itemprop="datePublished">2022-11-04</time>
	</a>
</span>
        
        
  <span class="article-tag">
    <i class="icon icon-tags"></i>
	<a class="article-tag-link-link" href="/tags/network/" rel="tag">network</a>
  </span>


        

        <span class="post-comment"><i class="icon icon-comment"></i> <a href="/2022/11/04/network-iproute2-vs-net-tools/#comments" class="article-comment-link">Comments</a></span>
        
      </div>
    </div>
    <div class="article-entry marked-body" itemprop="articleBody">
      
        <h2><span id="背景介绍">背景介绍</span></h2><p>iproute2是linux下管理控制TCP&#x2F;IP网络和流量控制的新一代工具包，旨在替代老派的工具链net-tools，即大家比较熟悉的ifconfig，arp，route，netstat等命令。</p>
<p>两套工具本质的区别是:net-tools是通过procfs(&#x2F;proc)和ioctl系统调用去访问和改变内核网络配置，而iproute2则通过netlink套接字接口与内核通讯。</p>
<p>net-tools的用法给人的感觉是比较乱，而iproute2的用户接口相对net-tools来说相对来说，更加直观。比如，各种网络资源（如link、IP地址、路由和隧道等）均使用合适的对象抽象去定义，使得用户可使用一致的语法去管理不同的对象。而且自2001年起，Linux社区已经对其停止维护。同时，一些Linux发行版比如Arch Linux和CentOS&#x2F;RHEL 7则已经完全抛弃了net-tools，只支持iproute2。</p>
<p>我们先粗略看一下两个网络管理工具包对应的命令：</p>
<p><img src="/2022/11/04/network-iproute2-vs-net-tools/net-tools-iproute2.png"></p>
<h2><span id="ip命令">ip命令</span></h2><p>iproute2的核心就是ip命令，我们先来看一下ip命令的用法：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Usage: ip [ OPTIONS ] OBJECT &#123; COMMAND | <span class="built_in">help</span> &#125;</span><br><span class="line">       ip [ -force ] -batch filename</span><br><span class="line"><span class="built_in">where</span>  OBJECT := &#123; <span class="built_in">link</span> | address | addrlabel | route | rule | neigh | ntable |</span><br><span class="line">                   tunnel | tuntap | maddress | mroute | mrule | monitor | xfrm |</span><br><span class="line">                   netns | l2tp | macsec | tcp_metrics | token &#125;</span><br><span class="line">       OPTIONS := &#123; -V[ersion] | -s[tatistics] | -d[etails] | -r[esolve] |</span><br><span class="line">                    -h[uman-readable] | -iec |</span><br><span class="line">                    -f[amily] &#123; inet | inet6 | ipx | dnet | bridge | <span class="built_in">link</span> &#125; |</span><br><span class="line">                    -4 | -6 | -I | -D | -B | -0 |</span><br><span class="line">                    -l[oops] &#123; maximum-addr-flush-attempts &#125; |</span><br><span class="line">                    -o[neline] | -t[imestamp] | -ts[hort] | -b[atch] [filename] |</span><br><span class="line">                    -rc[vbuf] [size] | -n[etns] name | -a[ll] &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src="/2022/11/04/network-iproute2-vs-net-tools/iproute2.png"></p>
<h3><span id="ip-link">ip link</span></h3><blockquote>
<p>网络设备的配置命令，启用，禁用设备,改变设备其他状态如MTU(Maximum Transmission Unit)以及mac地址等  </p>
</blockquote>
<p>查看所有网络接口</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@192 ~]$ ip <span class="built_in">link</span> show</span><br><span class="line">1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN mode DEFAULT qlen 1</span><br><span class="line">    <span class="built_in">link</span>/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00</span><br><span class="line">2: ens33: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP mode DEFAULT qlen 1000</span><br><span class="line">    <span class="built_in">link</span>/ether 00:0c:29:f8:b2:15 brd ff:ff:ff:ff:ff:ff</span><br><span class="line">3: virbr0: &lt;NO-CARRIER,BROADCAST,MULTICAST,UP&gt; mtu 1500 qdisc noqueue state DOWN mode DEFAULT qlen 1000</span><br><span class="line">    <span class="built_in">link</span>/ether 52:54:00:38:8c:73 brd ff:ff:ff:ff:ff:ff</span><br><span class="line">4: virbr0-nic: &lt;BROADCAST,MULTICAST&gt; mtu 1500 qdisc pfifo_fast master virbr0 state DOWN mode DEFAULT qlen 1000</span><br><span class="line">    <span class="built_in">link</span>/ether 52:54:00:38:8c:73 brd ff:ff:ff:ff:ff:ff</span><br></pre></td></tr></table></figure>
<p>查看特定网络接口</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@192 ~]$ ip <span class="built_in">link</span> show ens33</span><br><span class="line">2: ens33: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP mode DEFAULT qlen 1000</span><br><span class="line">    <span class="built_in">link</span>/ether 00:0c:29:f8:b2:15 brd ff:ff:ff:ff:ff:ff</span><br></pre></td></tr></table></figure>
<p>查看详细信息</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@192 ~]$ ip -s link show ens33</span><br><span class="line">2: ens33: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP mode DEFAULT qlen 1000</span><br><span class="line">    link/ether 00:0c:29:f8:b2:15 brd ff:ff:ff:ff:ff:ff</span><br><span class="line">    RX: bytes  packets  errors  dropped overrun mcast   </span><br><span class="line">    6325172    5042     0       0       0       0       </span><br><span class="line">    TX: bytes  packets  errors  dropped carrier collsns </span><br><span class="line">    170683     2165     0       0       0       0 </span><br></pre></td></tr></table></figure>
<p>查看更详细的信息</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@192 ~]$ ip -s -s link show ens33</span><br><span class="line">2: ens33: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP mode DEFAULT qlen 1000</span><br><span class="line">    link/ether 00:0c:29:f8:b2:15 brd ff:ff:ff:ff:ff:ff</span><br><span class="line">    RX: bytes  packets  errors  dropped overrun mcast   </span><br><span class="line">    461629269  308345   0       0       0       0       </span><br><span class="line">    RX errors: length   crc     frame   fifo    missed</span><br><span class="line">               0        0       0       0       0       </span><br><span class="line">    TX: bytes  packets  errors  dropped carrier collsns </span><br><span class="line">    4650285    75986    0       0       0       0       </span><br><span class="line">    TX errors: aborted  fifo   window heartbeat transns</span><br><span class="line">               0        0       0       0       4 </span><br></pre></td></tr></table></figure>

<p>只查看激活状态的网络接口</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@192 ~]$ ip link show up</span><br><span class="line">1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN mode DEFAULT qlen 1</span><br><span class="line">    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00</span><br><span class="line">2: ens33: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP mode DEFAULT qlen 1000</span><br><span class="line">    link/ether 00:0c:29:f8:b2:15 brd ff:ff:ff:ff:ff:ff</span><br><span class="line">3: virbr0: &lt;NO-CARRIER,BROADCAST,MULTICAST,UP&gt; mtu 1500 qdisc noqueue state DOWN mode DEFAULT qlen 1000</span><br><span class="line">    link/ether 52:54:00:38:8c:73 brd ff:ff:ff:ff:ff:ff</span><br></pre></td></tr></table></figure>
<p>激活或停用某个网络接口</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[root@192 ~]$ sudo ip link set down ens33</span><br><span class="line"></span><br><span class="line">[root@192 ~]$ ip link show up</span><br><span class="line">1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN mode DEFAULT qlen 1</span><br><span class="line">    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00</span><br><span class="line">3: virbr0: &lt;NO-CARRIER,BROADCAST,MULTICAST,UP&gt; mtu 1500 qdisc noqueue state DOWN mode DEFAULT qlen 1000</span><br><span class="line">    link/ether 52:54:00:38:8c:73 brd ff:ff:ff:ff:ff:ff</span><br><span class="line">[root@192 ~]$ sudo ip link set up ens33</span><br><span class="line">[root@192 ~]$ ip link show up</span><br><span class="line">1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN mode DEFAULT qlen 1</span><br><span class="line">    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00</span><br><span class="line">2: ens33: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP mode DEFAULT qlen 1000</span><br><span class="line">    link/ether 00:0c:29:f8:b2:15 brd ff:ff:ff:ff:ff:ff</span><br><span class="line">3: virbr0: &lt;NO-CARRIER,BROADCAST,MULTICAST,UP&gt; mtu 1500 qdisc noqueue state DOWN mode DEFAULT qlen 1000</span><br><span class="line">    link/ether 52:54:00:38:8c:73 brd ff:ff:ff:ff:ff:ff</span><br></pre></td></tr></table></figure>
<p>设置指定网络接口的MTU</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@192 ~]$ sudo ip link set ens33 mtu 1500</span><br></pre></td></tr></table></figure>
<p>改变网卡MAC地址（<strong>必须先关闭网卡再设置</strong>）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@192 ~]$ sudo ip link set down ens33 </span><br><span class="line">[root@192 ~]$ sudo ip link set dev ens33 address 00:0c:29:f8:b2:15</span><br><span class="line">[root@192 ~]$ sudo ip link set up ens33 </span><br></pre></td></tr></table></figure>
<h3><span id="ip-addr">ip addr</span></h3><blockquote>
<p>配置网络设备的IPv4或IPv6地址  </p>
</blockquote>
<p>显示所有网络接口的ip地址</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">[root@192 ~]$ ip addr show </span><br><span class="line">1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN qlen 1</span><br><span class="line">    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00</span><br><span class="line">    inet 127.0.0.1/8 scope host lo</span><br><span class="line">       valid_lft forever preferred_lft forever</span><br><span class="line">    inet6 ::1/128 scope host </span><br><span class="line">       valid_lft forever preferred_lft forever</span><br><span class="line">2: ens33: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP qlen 1000</span><br><span class="line">    link/ether 00:0c:29:f8:b2:15 brd ff:ff:ff:ff:ff:ff</span><br><span class="line">    inet 192.168.109.137/24 brd 192.168.109.255 scope global dynamic ens33</span><br><span class="line">       valid_lft 1550sec preferred_lft 1550sec</span><br><span class="line">    inet6 fe80::3d1a:3186:cc97:4e80/64 scope link </span><br><span class="line">       valid_lft forever preferred_lft forever</span><br><span class="line">3: virbr0: &lt;NO-CARRIER,BROADCAST,MULTICAST,UP&gt; mtu 1500 qdisc noqueue state DOWN qlen 1000</span><br><span class="line">    link/ether 52:54:00:38:8c:73 brd ff:ff:ff:ff:ff:ff</span><br><span class="line">    inet 192.168.122.1/24 brd 192.168.122.255 scope global virbr0</span><br><span class="line">       valid_lft forever preferred_lft forever</span><br><span class="line">4: virbr0-nic: &lt;BROADCAST,MULTICAST&gt; mtu 1500 qdisc pfifo_fast master virbr0 state DOWN qlen 1000</span><br><span class="line">    link/ether 52:54:00:38:8c:73 brd ff:ff:ff:ff:ff:ff</span><br></pre></td></tr></table></figure>
<p>增加&#x2F;删除地址(若配置IPv6地址，加上 -6)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">[root@192 ~]$ sudo ip addr add 192.168.10.10/24 dev ens33</span><br><span class="line">[root@192 ~]$ ip addr show ens33</span><br><span class="line">2: ens33: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP qlen 1000</span><br><span class="line">    link/ether 00:0c:29:f8:b2:15 brd ff:ff:ff:ff:ff:ff</span><br><span class="line">    inet 192.168.109.137/24 brd 192.168.109.255 scope global dynamic ens33</span><br><span class="line">       valid_lft 1065sec preferred_lft 1065sec</span><br><span class="line">    inet 192.168.10.10/24 scope global ens33</span><br><span class="line">       valid_lft forever preferred_lft forever</span><br><span class="line">    inet6 fe80::3d1a:3186:cc97:4e80/64 scope link </span><br><span class="line">       valid_lft forever preferred_lft forever</span><br><span class="line">[root@192 ~]$ sudo ip addr del 192.168.10.10/24 dev ens33</span><br><span class="line">[root@192 ~]$ ip addr show ens33</span><br><span class="line">2: ens33: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP qlen 1000</span><br><span class="line">    link/ether 00:0c:29:f8:b2:15 brd ff:ff:ff:ff:ff:ff</span><br><span class="line">    inet 192.168.109.137/24 brd 192.168.109.255 scope global dynamic ens33</span><br><span class="line">       valid_lft 1769sec preferred_lft 1769sec</span><br><span class="line">    inet6 fe80::3d1a:3186:cc97:4e80/64 scope link </span><br><span class="line">       valid_lft forever preferred_lft forever</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3><span id="ip-addrlabel">ip addrlabel</span></h3><blockquote>
<p>IPv6地址标签，主要用于RFC3483中描述的IPv6地址的选择，RFC3484主要介绍了两个算法，用于IPv6地址（源地址和目标地址）的选择策略  </p>
</blockquote>
<h3><span id="ip-route">ip route</span></h3><blockquote>
<p>路由表管理  </p>
</blockquote>
<p>查看路由表</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@192 ~]$ ip route show</span><br><span class="line">default via 192.168.109.2 dev ens33  proto static  metric 100 </span><br><span class="line">192.168.109.0/24 dev ens33  proto kernel  scope link  src 192.168.109.137  metric 100 </span><br><span class="line">192.168.122.0/24 dev virbr0  proto kernel  scope link  src 192.168.122.1 </span><br></pre></td></tr></table></figure>
<p>查看指定设备路由表</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@192 ~]$ ip route show dev ens33</span><br><span class="line">default via 192.168.109.2  proto static  metric 100 </span><br><span class="line">192.168.109.0/24  proto kernel  scope link  src 192.168.109.137  metric 100 </span><br></pre></td></tr></table></figure>
<p>修改默认路由(添加新的默认路由、删除旧的默认路由，或者使用replace)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@192 ~]$ ip route add default via xxx.xxx.xxx.xxx/xx</span><br><span class="line">[root@192 ~]$ ip route del default via xxx.xxx.xxx.xxx/xx</span><br></pre></td></tr></table></figure>
<p>添加&#x2F;删除静态路由</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@192 ~]$ ip route add xxx.xxx.xxx.xxx/xx via xxx.xxx.xxx.xxx/xx dev ens33</span><br><span class="line">[root@192 ~]$ ip route del xxx.xxx.xxx.xxx/xx</span><br></pre></td></tr></table></figure>
<h3><span id="ip-rule">ip rule</span></h3><blockquote>
<p>管理路由策略数据库，里面有一个算法用来控制路由的选择策略  </p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">通过路由表inr.ruhep路由来自源地址为192.203.80/24的数据包</span><br><span class="line"></span><br><span class="line">　　ip ru add from 192.203.80/24 table inr.ruhep prio 220</span><br><span class="line"></span><br><span class="line">把源地址为193.233.7.83的数据报的源地址转换为192.203.80.144，并通过表1进行路由</span><br><span class="line"></span><br><span class="line">　　ip ru add from 193.233.7.83 nat 192.203.80.144 table 1 prio 320</span><br><span class="line"></span><br><span class="line">删除无用的缺省规则 </span><br><span class="line">    </span><br><span class="line">    ip ru del prio 32767</span><br><span class="line">```  </span><br><span class="line"></span><br><span class="line">### ip neigh  </span><br><span class="line"></span><br><span class="line">&gt;邻居/ARP表的管理</span><br></pre></td></tr></table></figure>
<h1><span id="显示arp表">显示arp表</span></h1><p>ip neigh<br>10.10.105.254 dev eth0 lladdr 84:5b:12:32:57:f6 REACHABLE</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h1><span id="在设备eth0上为地址10003添加一个permanent-arp条目">在设备eth0上，为地址10.0.0.3添加一个permanent ARP条目：</span></h1><pre><code>ip neigh add 10.0.0.3 lladdr 0:0:0:0:0:1 dev eth0 nud perm 
</code></pre>
<h1><span id="把状态改为reachable">把状态改为reachable</span></h1><pre><code>ip neigh chg 10.0.0.3 dev eth0 nud reachable
</code></pre>
<h1><span id="删除设备eth0上的一个arp条目10003">删除设备eth0上的一个ARP条目10.0.0.3</span></h1><pre><code>ip neigh del 10.0.0.3 dev eth0
</code></pre>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### ip ntable  </span><br><span class="line"></span><br><span class="line">&gt;邻居表配置  </span><br><span class="line"></span><br><span class="line">### ip tunnel  </span><br><span class="line"> </span><br><span class="line">&gt;隧道配置，隧道的作用是将数据（可以是不同协议）封装成IP包然后在互联网上将包发出  </span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>建立一个点对点通道，最大TTL是32 </p>
<pre><code>ip tunnel add Cisco mode sit remote 192.31.7.104 local 
</code></pre>
<p>192.203.80.1 ttl 32 </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">### ip tuntap  </span><br><span class="line"></span><br><span class="line">&gt;管理TUN/TAP设备  </span><br><span class="line"></span><br><span class="line">### ip maddr  </span><br><span class="line"></span><br><span class="line">&gt;多播地址管理</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>$ sudo ip maddr add 33:44:00:00:00:01 dev eth0<br>$ sudo ip maddr del 33:44:00:00:00:01 dev eth0<br>$ ip maddr list dev eth0</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### ip mroute  </span><br><span class="line"></span><br><span class="line">&gt;多播路由缓存管理  </span><br><span class="line"></span><br><span class="line">### ip mrule  </span><br><span class="line"></span><br><span class="line">&gt;多播路由策略数据库的规则  </span><br><span class="line"></span><br><span class="line">### ip monitor  </span><br><span class="line"></span><br><span class="line">&gt;状态监控，如可以持续监控ip地址和路由的状态  </span><br><span class="line"></span><br></pre></td></tr></table></figure>
<pre><code>ip monitor file FILENAME
</code></pre>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">### ip xfrm  </span><br><span class="line"></span><br><span class="line">&gt;XFRM框架实现IP层处理和IPSec处理,可以转换数据包格式，如对某个数据包进行加密  </span><br><span class="line"></span><br><span class="line">### ip netns  </span><br><span class="line"></span><br><span class="line">&gt;进程网络namespace管理  </span><br><span class="line"></span><br><span class="line">netns是在Linux中提供网络虚拟化的一个项目，使用netns网络空间虚拟化可以在本地虚拟化出多个网络环境，目前netns在lxc容器中被用来为容器提供网络。</span><br><span class="line"></span><br><span class="line">使用netns创建的网络空间独立于当前系统的网络空间，其中的网络设备以及iptables规则等都是独立的，就好像进入了另外一个网络一样。  </span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>创建虚拟网络空间</p>
<pre><code>ip netns add ns1
</code></pre>
<p>进入ns1内部的sh</p>
<pre><code>ip netns exec ns1 bash
</code></pre>
<p>退出输入exit</p>
<p>[root@192 root]# ip netns add sh1<br>[root@192 root]# ip netns show<br>sh1<br>[root@192 root]# ip netns exec sh1 bash<br>[root@192 root]# ip link show<br>1: lo: <loopback> mtu 65536 qdisc noop state DOWN mode DEFAULT qlen 1<br>    link&#x2F;loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00</loopback></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">两个namespace的网络想要联络需要veth设备，首先在其中一个命名空间创建一对设备，再将其中一个甩到目标namespace中</span><br></pre></td></tr></table></figure>
<p>[root@192 root]# ip link add veth0 type veth peer name veth1<br>[root@192 root]# ip link show<br>1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN mode DEFAULT qlen 1<br>    link&#x2F;loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00<br>2: ens33: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP mode DEFAULT qlen 1000<br>    link&#x2F;ether 00:0c:29:f8:b2:15 brd ff:ff:ff:ff:ff:ff<br>3: virbr0: &lt;NO-CARRIER,BROADCAST,MULTICAST,UP&gt; mtu 1500 qdisc noqueue state DOWN mode DEFAULT qlen 1000<br>    link&#x2F;ether 52:54:00:38:8c:73 brd ff:ff:ff:ff:ff:ff<br>4: virbr0-nic: &lt;BROADCAST,MULTICAST&gt; mtu 1500 qdisc pfifo_fast master virbr0 state DOWN mode DEFAULT qlen 1000<br>    link&#x2F;ether 52:54:00:38:8c:73 brd ff:ff:ff:ff:ff:ff<br>5: veth1@veth0: &lt;BROADCAST,MULTICAST,M-DOWN&gt; mtu 1500 qdisc noop state DOWN mode DEFAULT qlen 1000<br>    link&#x2F;ether da:b6:69:cf:cb:ab brd ff:ff:ff:ff:ff:ff<br>6: veth0@veth1: &lt;BROADCAST,MULTICAST,M-DOWN&gt; mtu 1500 qdisc noop state DOWN mode DEFAULT qlen 1000<br>    link&#x2F;ether 6e:d1:5c:c0:83:c3 brd ff:ff:ff:ff:ff:ff<br>[root@192 root]# ip link set veth1 netns sh1<br>[root@192 root]# ip link show<br>1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN mode DEFAULT qlen 1<br>    link&#x2F;loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00<br>2: ens33: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP mode DEFAULT qlen 1000<br>    link&#x2F;ether 00:0c:29:f8:b2:15 brd ff:ff:ff:ff:ff:ff<br>3: virbr0: &lt;NO-CARRIER,BROADCAST,MULTICAST,UP&gt; mtu 1500 qdisc noqueue state DOWN mode DEFAULT qlen 1000<br>    link&#x2F;ether 52:54:00:38:8c:73 brd ff:ff:ff:ff:ff:ff<br>4: virbr0-nic: &lt;BROADCAST,MULTICAST&gt; mtu 1500 qdisc pfifo_fast master virbr0 state DOWN mode DEFAULT qlen 1000<br>    link&#x2F;ether 52:54:00:38:8c:73 brd ff:ff:ff:ff:ff:ff<br>6: veth0@if5: &lt;BROADCAST,MULTICAST&gt; mtu 1500 qdisc noop state DOWN mode DEFAULT qlen 1000<br>    link&#x2F;ether 6e:d1:5c:c0:83:c3 brd ff:ff:ff:ff:ff:ff link-netnsid 0<br>[root@192 root]# ip netns exec sh1 bash<br>[root@192 root]# ip link sh<br>1: lo: <loopback> mtu 65536 qdisc noop state DOWN mode DEFAULT qlen 1<br>    link&#x2F;loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00<br>5: veth1@if6: &lt;BROADCAST,MULTICAST&gt; mtu 1500 qdisc noop state DOWN mode DEFAULT qlen 1000<br>    link&#x2F;ether da:b6:69:cf:cb:ab brd ff:ff:ff:ff:ff:ff link-netnsid 0</loopback></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">完成上述步骤后可以看到他们设备名后面指向peer在另一个namespace中的序号，下面来看如何利用这一对设备进行通信</span><br></pre></td></tr></table></figure>
<p>[root@192 root]# ip addr add 10.1.1.2&#x2F;24 dev veth0<br>[root@192 root]# ip netns exec sh1 ip addr add 10.1.1.1&#x2F;24 dev veth1<br>[root@192 root]# ip link set up veth0<br>[root@192 root]# ip netns exec sh1 ip link set up veth1<br>[root@192 root]# ping 10.1.1.1<br>PING 10.1.1.1 (10.1.1.1) 56(84) bytes of data.<br>64 bytes from 10.1.1.1: icmp_seq&#x3D;1 ttl&#x3D;64 time&#x3D;0.070 ms<br>64 bytes from 10.1.1.1: icmp_seq&#x3D;2 ttl&#x3D;64 time&#x3D;0.039 ms<br>64 bytes from 10.1.1.1: icmp_seq&#x3D;3 ttl&#x3D;64 time&#x3D;0.037 ms<br>^C<br>— 10.1.1.1 ping statistics —<br>3 packets transmitted, 3 received, 0% packet loss, time 2000ms<br>rtt min&#x2F;avg&#x2F;max&#x2F;mdev &#x3D; 0.037&#x2F;0.048&#x2F;0.070&#x2F;0.017 ms</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">注意点是分配好ip后别忘了set up</span><br><span class="line">### ip l2tp  </span><br><span class="line"></span><br><span class="line">&gt;tunnel Ethernet over IP（L2TPv3）  </span><br><span class="line"></span><br><span class="line">### ip tcp_metrics  </span><br><span class="line"></span><br><span class="line">&gt;管理TCP Metrics  </span><br><span class="line"></span><br><span class="line">### ip token  </span><br><span class="line"></span><br><span class="line">&gt;标记化的接口标识符支持  </span><br><span class="line"></span><br><span class="line">## ss命令</span><br><span class="line"></span><br><span class="line">用法  </span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>Usage: ss [ OPTIONS ]<br>       ss [ OPTIONS ] [ FILTER ]<br>          -h, –help          this message<br>   -V, –version       output version information<br>   -n, –numeric       don’t resolve service names<br>   -r, –resolve       resolve host names<br>   -a, –all           display all sockets<br>   -l, –listening     display listening sockets<br>   -o, –options       show timer information<br>   -e, –extended      show detailed socket information<br>   -m, –memory        show socket memory usage<br>   -p, –processes     show process using socket<br>   -i, –info          show internal TCP information<br>   -s, –summary       show socket usage summary<br>   -b, –bpf           show bpf filter socket information<br>   -Z, –context       display process SELinux security contexts<br>   -z, –contexts      display process and socket SELinux security contexts<br>   -N, –net           switch to the specified network namespace name</p>
<p>   -4, –ipv4          display only IP version 4 sockets<br>   -6, –ipv6          display only IP version 6 sockets<br>   -0, –packet        display PACKET sockets<br>   -t, –tcp           display only TCP sockets<br>   -u, –udp           display only UDP sockets<br>   -d, –dccp          display only DCCP sockets<br>   -w, –raw           display only RAW sockets<br>   -x, –unix          display only Unix domain sockets<br>   -f, –family&#x3D;FAMILY display sockets of type FAMILY</p>
<p>   -A, –query&#x3D;QUERY, –socket&#x3D;QUERY<br>       QUERY :&#x3D; {all|inet|tcp|udp|raw|unix|unix_dgram|unix_stream|unix_seqpacket|packet|netlink}[,QUERY]</p>
<p>   -D, –diag&#x3D;FILE     Dump raw information about TCP sockets to FILE<br>   -F, –filter&#x3D;FILE   read filter information from FILE<br>       FILTER :&#x3D; [ state STATE-FILTER ] [ EXPRESSION ]<br>       STATE-FILTER :&#x3D; {all|connected|synchronized|bucket|big|TCP-STATES}<br>         TCP-STATES :&#x3D; {established|syn-sent|syn-recv|fin-wait-{1,2}|time-wait|closed|close-wait|last-ack|listen|closing}<br>          connected :&#x3D; {established|syn-sent|syn-recv|fin-wait-{1,2}|time-wait|close-wait|last-ack|closing}<br>       synchronized :&#x3D; {established|syn-recv|fin-wait-{1,2}|time-wait|close-wait|last-ack|closing}<br>             bucket :&#x3D; {syn-recv|time-wait}<br>                big :&#x3D; {established|syn-sent|fin-wait-{1,2}|closed|close-wait|last-ack|listen|closing}</p>
<p>&#96;&#96;&#96;</p>
<h2><span id="参考文档">参考文档</span></h2><ul>
<li>[1] <a target="_blank" rel="noopener" href="http://blog.jobbole.com/97270/">http://blog.jobbole.com/97270/</a></li>
<li>[2] <a target="_blank" rel="noopener" href="http://blog.csdn.net/astrotycoon/article/details/52317288">http://blog.csdn.net/astrotycoon/article/details/52317288</a></li>
</ul>
<p><a target="_blank" rel="noopener" href="https://github.com/mozhuli/SDN-Learning-notes/blob/master/linux/iproute2.md">原文链接</a></p>

      
    </div>
    <div class="article-footer">
      <blockquote class="mt-2x">
  <ul class="post-copyright list-unstyled">
    
    <li class="post-copyright-link hidden-xs">
      <strong>本文链接：</strong>
      <a href="http://vball.fun/2022/11/04/network-iproute2-vs-net-tools/" title="iproute2 vs net-tools" target="_blank" rel="external">http://vball.fun/2022/11/04/network-iproute2-vs-net-tools/</a>
    </li>
    
    <li class="post-copyright-license">
      <strong>版权声明： </strong> 本博客所有文章除特别声明外，均采用 <a href="http://creativecommons.org/licenses/by/4.0/deed.zh" target="_blank" rel="external">CC BY 4.0 CN协议</a> 许可协议。转载请注明出处！
    </li>
  </ul>
</blockquote>


<div class="panel panel-default panel-badger">
  <div class="panel-body">
    <figure class="media">
      <div class="media-left">
        <a href="https://github.com/godvmxi" target="_blank" class="img-burn thumb-sm visible-lg">
          <img src="/images/avatar2.jpeg" class="img-rounded w-full" alt="">
        </a>
      </div>
      <div class="media-body">
        <h3 class="media-heading"><a href="https://github.com/godvmxi" target="_blank"><span class="text-dark">Ball Virtual</span><small class="ml-1x">kernel &amp; ASIC &amp; Software Engineer</small></a></h3>
        <div>关于程序与设计 | kernel &amp; MCU &amp; ASIC Lover，Software Engineer | 这里是 @蛋种 的个人博客，与你一起发现更大的世界。</div>
      </div>
    </figure>
  </div>
</div>


    </div>
  </article>
  
    
  <section id="comments">
  	
      <div id="disqus_thread">
        <noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
      </div>
    
  </section>


  
</div>

  <nav class="bar bar-footer clearfix" data-stick-bottom>
  <div class="bar-inner">
  
  <ul class="pager pull-left">
    
    <li class="prev">
      <a href="/2022/11/05/imm-ca-choice/" title="移民小结-加拿大-移民路径选择篇"><i class="icon icon-angle-left" aria-hidden="true"></i><span>&nbsp;&nbsp;Newer</span></a>
    </li>
    
    
    <li class="next">
      <a href="/2022/11/02/imm-passport/" title="移民小结-护照篇"><span>Older&nbsp;&nbsp;</span><i class="icon icon-angle-right" aria-hidden="true"></i></a>
    </li>
    
    
  </ul>
  
  
  
  <div class="bar-right">
    
    <div class="share-component" data-sites="weibo,qq,wechat,facebook,twitter" data-mobile-sites="weibo,qq,qzone"></div>
    
  </div>
  </div>
</nav>
  


</main>

  <footer class="footer" itemscope itemtype="http://schema.org/WPFooter">
	
	
    <ul class="social-links">
    	
        <li><a href="https://github.com/godvmxi" target="_blank" title="Github" data-toggle=tooltip data-placement=top><i class="icon icon-github"></i></a></li>
        
        <li><a href="https://twitter.com/mygoddan" target="_blank" title="Twitter" data-toggle=tooltip data-placement=top><i class="icon icon-twitter"></i></a></li>
        
        <li><a href="https://www.linkedin.com/in/godvmxi/" target="_blank" title="Linkedin" data-toggle=tooltip data-placement=top><i class="icon icon-linkedin"></i></a></li>
        
        <li><a href="/atom.xml" target="_blank" title="Rss" data-toggle=tooltip data-placement=top><i class="icon icon-rss"></i></a></li>
        
    </ul>

    <div class="copyright">
    	
        &copy; 2023 Bright Jiang
        
        <div class="publishby">
        	Theme by <a href="https://github.com/cofess" target="_blank"> cofess </a>base on <a href="https://github.com/cofess/hexo-theme-pure" target="_blank">pure</a>
            <a href="https://tongji.baidu.com/web/welcome/login" target="_blank"> ab </a>
            <a href="https://analytics.google.com/analytics/web/" target="_blank"> ag </a>
            <a href="http://localhost:4000/" target="_blank"> at </a>
        </div>
    </div>
</footer> 
  <script src="//cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script>
<script>
window.jQuery || document.write('<script src="js/jquery.min.js"><\/script>')
</script>

<script src="/js/plugin.min.js"></script>


<script src="/js/application.js"></script>


    <script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'Posts',
            PAGES: 'Pages',
            CATEGORIES: 'Categories',
            TAGS: 'Tags',
            UNTITLED: '(Untitled)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>

<script src="/js/insight.js"></script>






   




   
    
    <script defer>
    var disqus_config = function () {
        
            this.page.url = 'http://vball.fun/2022/11/04/network-iproute2-vs-net-tools/';
        
        this.page.identifier = 'network-iproute2-vs-net-tools';
    };
    (function() { 
        var d = document, s = d.createElement('script');  
        s.src = '//' + 'godvmxi' + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>






    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-DJEQFK7JNT"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-DJEQFK7JNT');
</script>


    <script defer>
var _hmt = _hmt || [];
(function() {
    var hm = document.createElement("script");
    hm.src = "//hm.baidu.com/hm.js?15c7b71acf728ce4c58fc512ce15c088";
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(hm, s);
})();
</script>



</body>
</html>